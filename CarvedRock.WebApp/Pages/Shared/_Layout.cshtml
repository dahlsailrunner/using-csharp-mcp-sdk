@inject IConfiguration config
@{
    var authority = config.GetValue<string>("Auth:Authority");
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Carved Rock Fitness</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <script type="text/javascript">
        function setCartCount(){
            var cookieString = getCookie("carvedrock-cart");
            var cartLink = document.getElementById("carvedrockcart");

            if (cookieString == "") {                
                cartLink.textContent = "Cart (0)";
            } else {
                var decodedCookieData = cookieString;
                var cookieData = JSON.parse(decodedCookieData);
                console.log(cookieData);
                var totalItems = 0;
                for (var product of cookieData) {
                    console.log(product);
                    totalItems += product.quantity;
                }
                cartLink.textContent = "Cart (" + totalItems + ")";
            }
        }
        
        function getCookie(cname) {
            let name = cname + "=";
            let decodedCookie = decodeURIComponent(document.cookie);
            let ca = decodedCookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }
    </script>
</head>
<body>
    <div class="crf">
        <!-- NAVIGATION -->
        <nav class="navbar navbar-expand-lg bg-white">
            <div class="container">
                <!-- Brand Logo -->
                <a class="navbar-brand" href="/">
                    <img alt="Carved Rock Fitness" 
                         src="https://www.pluralsight.com/content/dam/pluralsight2/teach/author-tools/carved-rock-fitness/logos/carved-rock-logo.png" 
                         height="80">
                </a>
                
                <!-- Toggler for mobile -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <!-- Collapsible content -->
                <div class="collapse navbar-collapse" id="navbarNav">
                    <!-- Main navigation buttons -->
                    <div class="navbar-nav mx-auto">
                        <a class="btn btn-warning mx-1 px-3 py-2 fw-bold text-uppercase" href="/Listing?cat=boots">Footwear</a>
                        <a class="btn btn-warning mx-1 px-3 py-2 fw-bold text-uppercase" href="/Listing?cat=kayak">Kayaks</a>
                        <a class="btn btn-warning mx-1 px-3 py-2 fw-bold text-uppercase" href="/Listing?cat=equip">Equipment</a>
                        <a class="btn btn-warning mx-1 px-3 py-2 fw-bold text-uppercase" href="/Cart" id="carvedrockcart">Cart</a>
                        @if (User.IsInRole("admin"))
                        {
                            <a class="btn btn-warning mx-1 px-3 py-2 fw-bold text-uppercase" href="/Admin">Admin</a>
                        }
                    </div>
                    
                    <!-- Right side utilities -->
                    <div class="navbar-nav ms-auto">
                        <a class="nav-link me-3" target="_blank" href="@authority">IdSrv</a>
                        <partial name="_LoginPartial" />
                    </div>
                </div>
            </div>
        </nav>
        
        <!-- Main content -->
        <main>
            @RenderBody()
        </main>

        <!-- Modern Footer -->
        <footer class="modern-footer">
            <div class="d-flex">
                <!-- Gray section with links and newsletter -->
                <div class="footer-main flex-grow-1">
                    <div class="container py-3">
                        <div class="row">
                            <!-- Customer Support Column -->
                            <div class="col-lg-3 col-md-6 mb-4">
                                <h5 class="footer-heading text-uppercase mb-3">Customer Support</h5>
                                <ul class="footer-links list-unstyled">
                                    <li><a href="#" class="text-decoration-none">Contact Us</a></li>
                                    <li><a href="#" class="text-decoration-none">Order Tracker</a></li>
                                    <li><a href="#" class="text-decoration-none">Returns & Refunds</a></li>
                                    <li><a href="#" class="text-decoration-none">Size Guide</a></li>
                                    <li><a href="#" class="text-decoration-none">Store Locator</a></li>
                                    <li><a href="#" class="text-decoration-none">Site Map</a></li>
                                </ul>
                            </div>

                            <!-- Company Info Column -->
                            <div class="col-lg-3 col-md-6 mb-4">
                                <h5 class="footer-heading text-uppercase mb-3">Company Info</h5>
                                <ul class="footer-links list-unstyled">
                                    <li><a href="#" class="text-decoration-none">About Us</a></li>
                                    <li><a href="#" class="text-decoration-none">Careers</a></li>
                                    <li><a href="#" class="text-decoration-none">Press</a></li>
                                    <li><a href="#" class="text-decoration-none">Sustainability</a></li>
                                    <li><a href="#" class="text-decoration-none">Affiliates</a></li>
                                    <li><a href="#" class="text-decoration-none">Students</a></li>
                                    <li><a href="#" class="text-decoration-none">Mobile Apps</a></li>
                                </ul>
                            </div>

                            <!-- Privacy & Terms Column -->
                            <div class="col-lg-3 col-md-6 mb-4">
                                <h5 class="footer-heading text-uppercase mb-3">Privacy & Terms</h5>
                                <ul class="footer-links list-unstyled">
                                    <li><a href="#" class="text-decoration-none">Privacy & Security</a></li>
                                    <li><a href="#" class="text-decoration-none">Statement</a></li>
                                    <li><a href="#" class="text-decoration-none">Terms & Conditions</a></li>
                                </ul>
                            </div>

                            <!-- Follow Us & Newsletter Column -->
                            <div class="col-lg-3 col-md-6 mb-4">
                                <h5 class="footer-heading text-uppercase mb-3">Follow Us</h5>
                                <div class="social-icons mb-4">
                                    <a href="#" class="social-icon me-2" title="Twitter">
                                        <i class="fab fa-twitter" aria-hidden="true"></i>
                                    </a>
                                    <a href="#" class="social-icon me-2" title="Facebook">
                                        <i class="fab fa-facebook-f" aria-hidden="true"></i>
                                    </a>
                                    <a href="#" class="social-icon me-2" title="Instagram">
                                        <i class="fab fa-instagram" aria-hidden="true"></i>
                                    </a>
                                    <a href="#" class="social-icon me-2" title="Pinterest">
                                        <i class="fab fa-pinterest-p" aria-hidden="true"></i>
                                    </a>
                                    <a href="#" class="social-icon me-2" title="Google Plus">
                                        <i class="fab fa-google-plus-g" aria-hidden="true"></i>
                                    </a>
                                </div>
                                
                                <div class="newsletter-section">
                                    <h6 class="newsletter-heading text-uppercase mb-2">Email Updates</h6>
                                    <p class="newsletter-subheading mb-3">Exclusive sales, special offers, and more.</p>
                                    <div class="newsletter-form">
                                        <input type="email" class="form-control mb-2" placeholder="Enter email address">
                                        <button class="btn btn-dark btn-sm text-uppercase">Sign Up</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Copyright section -->
                    <div class="footer-copyright text-center py-3">
                        <div class="container">
                            <small>&copy;Pluralsight 2025</small>
                        </div>
                    </div>
                </div>

                <!-- Black section with Pluralsight logo -->
                <div class="footer-brand">
                    <div class="d-flex flex-column justify-content-center align-items-center h-100 p-4">
                        <img src="https://www.pluralsight.com/content/dam/pluralsight2/teach/author-tools/carved-rock-fitness/logos/pluralsight-white.png" 
                             alt="Pluralsight" class="footer-logo mb-3" height="100">
                        <p class="footer-disclaimer text-center">
                            This site is created for demonstrative purposes only<br>
                            and does not offer any real products or services.
                        </p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    @await RenderSectionAsync("Scripts", required: false)
    <script type="text/javascript">
        (function () {
            setCartCount();
        })();
    </script>
</body>
</html>